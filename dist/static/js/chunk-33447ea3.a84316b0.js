(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33447ea3"],{"28e4":function(t,e,n){},"2d09":function(t,e,n){"use strict";var i=n("28e4"),a=n.n(i);a.a},9306:function(t,e,n){"use strict";n.r(e);var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page page-editor"},[n("div",{staticClass:"editor-header-wrapper"},[n("div",{staticClass:"editor-header-back"},[n("el-button",{attrs:{size:"mini",type:"info"},on:{click:t.goBack}},[n("i",{staticClass:"el-icon-d-arrow-left"}),t._v("\n          返回\n      ")])],1),n("div",{staticClass:"editor-header-docs-title"},[n("el-input",{staticClass:"editor-header-docs-title-input",attrs:{type:"text",placeholder:"请输入标题",maxlength:"18","show-word-limit":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("div",{staticClass:"editor-header-operation text-right"},[t.templateList.length&&["docs","sheet"].includes(t.type)?n("el-dropdown",{staticClass:"marginR15"},[n("el-button",{attrs:{size:"mini"}},[t._v("我的模板"),n("i",{staticClass:"el-icon-arrow-down"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.templateList,(function(e,i){return n("el-dropdown-item",{key:i},[n("div",{on:{click:function(n){return t.insertTemplate(e)}}},[t._v(t._s(e.title))])])})),1)],1):t._e(),n("el-dropdown",{attrs:{"split-button":"",size:"mini",type:"primary"},on:{click:t.saveDocument}},[t._v("\n        保存\n        "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[["docs","sheet"].includes(t.type)?n("el-dropdown-item",[n("div",{on:{click:t.saveAsTemplate}},[t._v("存为模板")])]):t._e()],1)],1)],1)]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"editor-wrapper"},["docs"===t.type?[n("docsEdit",{ref:"edit",attrs:{content:t.content}})]:t._e(),"sheet"===t.type?[n("excelEdit",{ref:"edit",attrs:{content:t.content}})]:t._e(),"axure"===t.type?[n("axureEdit",{ref:"edit",attrs:{content:t.content}})]:t._e()],2)])},o=[],s=n("ce3c"),c=(n("567e"),n("2984"),n("2b3e")),d=n.n(c),r=(n("cc43"),n("855f")),l=n.n(r),u=(n("93fd"),n("60cf")),h=n.n(u),p=(n("b764"),n("77bb")),m=n.n(p),f=(n("e8bd"),n("3f00")),b=n.n(f),g=(n("cc57"),n("e25f"),n("34af")),v=n.n(g),y=0,w={components:(i={},Object(s["a"])(i,v.a.name,v.a),Object(s["a"])(i,b.a.name,b.a),Object(s["a"])(i,m.a.name,m.a),Object(s["a"])(i,h.a.name,h.a),Object(s["a"])(i,l.a.name,l.a),Object(s["a"])(i,d.a.name,d.a),Object(s["a"])(i,"docsEdit",(function(){return Promise.all([n.e("chunk-67da7162"),n.e("chunk-7236d5c0")]).then(n.bind(null,"6772"))})),Object(s["a"])(i,"excelEdit",(function(){return Promise.all([n.e("chunk-69757b4a"),n.e("chunk-e7783a00")]).then(n.bind(null,"2ebb"))})),Object(s["a"])(i,"axureEdit",(function(){return Promise.all([n.e("chunk-2bdf95e0"),n.e("chunk-21f866d4"),n.e("chunk-4bcc46b0")]).then(n.bind(null,"910e"))})),i),data:function(){return{loading:!1,id:"",parentId:"",type:"",title:"",content:"",documentData:{},templateList:[]}},created:function(){this.id=this.$route.query.id,this.isTemplate=this.$route.query.isTemplate,this.parentId=this.$route.query.parentId,this.type=this.$route.query.type,y=window.history.length},mounted:function(){this.id&&this.getData(),this.getMyTemplateList()},methods:{goBack:function(){window.history.go(y-window.history.length-1)},getData:function(){var t=this;this.loading=!0,this.$API.getDocumentDetail({id:this.id}).then((function(e){t.loading=!1,t.title=e.body.document.title||"",t.content=e.body.document.content||"",t.documentData=e.body.document})).catch((function(){t.loading=!1}))},saveDocument:function(){var t=this;this.loading=!0;var e=this.$refs.edit.getContent();this.$API.createDocument({id:this.id,parentId:this.parentId,title:this.title||"新建文档",content:e,type:this.type,isTemplate:this.isTemplate}).then((function(){t.loading=!1,t.goBack()})).catch((function(){t.loading=!1}))},saveAsTemplate:function(){this.isTemplate=!0,this.saveDocument()},getMyTemplateList:function(){var t=this;this.$API.getMyTemplate({type:this.type}).then((function(e){t.templateList=e.body||[]}))},insertTemplate:function(t){var e=this;this.loading=!0;var n=this.$refs.edit;this.$API.getDocumentDetail({id:t._id}).then((function(t){e.loading=!1,n.insertContent&&n.insertContent(t.body.document.content)})).catch((function(){e.loading=!1}))}}},k=w,_=(n("c308"),n("2d09"),n("9ca4")),C=Object(_["a"])(k,a,o,!1,null,"0f324cf6",null);e["default"]=C.exports},c308:function(t,e,n){"use strict";var i=n("ee5b"),a=n.n(i);a.a},e25f:function(t,e,n){},ee5b:function(t,e,n){}}]);