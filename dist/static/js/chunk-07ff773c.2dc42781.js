(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07ff773c"],{"858b":function(t,e,a){"use strict";a.r(e);var s,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-my-document"},[a("div",{staticClass:"dash-board-operator-wrapper"},[a("div",{staticClass:"dash-board-title"},[t._v("我的团队")]),a("div",{staticClass:"pull-right"},[a("el-button",{staticClass:"new-docs-btn",attrs:{size:"mini",icon:"el-icon-plus"},on:{click:function(e){return t.showNew(!0)}}},[t._v("新建")])],1)]),a("div",{staticClass:"docs-list-wrapper scroll-wrapper"},[t._m(0),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"list-wrapper"},[t._l(t.groupList,(function(e,s){return[a("ul",{key:s,staticClass:"group-list-table group-list-table-row"},[a("li",{staticClass:"group-list-row-date"},[a("i",{staticClass:"iconfont icon-yonghushu"}),t._v("\n            "+t._s(e.name)+"\n          ")]),a("li",{staticClass:"group-list-row-date"},[a("div",{staticClass:"member-list blue"},[t._v(t._s(e.members.length))])]),a("li",{staticClass:"group-list-row-date"},[t._v(t._s(t._f("formatTime")(e.created,"yyyy-MM-dd")))]),a("li",{staticClass:"group-list-row-date"},[t._v(t._s(t._f("formatTime")(e.updated,"yyyy-MM-dd")))]),a("li",{staticClass:"group-list-title--op"},[a("el-dropdown",[a("i",{staticClass:"font-p-color el-icon-setting"}),a("el-dropdown-menu",[a("el-dropdown-item",[a("div",{on:{click:function(a){return t.showNew(e)}}},[t._v("编辑")])]),a("el-dropdown-item",[a("div",{on:{click:function(a){return t.showMemberManage(e)}}},[t._v("成员管理")])]),a("el-dropdown-item",{attrs:{command:"edit"}},[a("div",{staticClass:"error",on:{click:function(a){return t.delGroup(e._id)}}},[t._v("删除")])])],1)],1)],1)])]})),t.noData?a("noFunData"):t._e()],2)]),a("el-dialog",{staticClass:"page-dialog-wrapper",attrs:{title:t.newGroupData.id?"编辑":"新增",width:"480px",visible:t.newDiolagVisible},on:{"update:visible":function(e){t.newDiolagVisible=e}}},[a("el-form",{staticClass:"paddingR30",attrs:{"label-width":"110px"}},[a("el-form-item",{attrs:{label:"团队名称："}},[a("el-input",{attrs:{placeholder:"请输入团队名称"},model:{value:t.newGroupData.name,callback:function(e){t.$set(t.newGroupData,"name",e)},expression:"newGroupData.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeNew}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.newGroup}},[t._v("提交")])],1)],1),a("el-dialog",{staticClass:"page-dialog-wrapper",attrs:{title:"成员管理",width:"650px",visible:t.userDiolagVisible},on:{close:t.getData,"update:visible":function(e){t.userDiolagVisible=e}}},[a("div",{staticClass:"add-user-wrapper"},[a("div",{staticClass:"search-w"},[a("div",{staticClass:"search-input-wrapper"},[a("div",{staticClass:"input-item"},[a("el-select",{staticClass:"input-i",attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入用户名|昵称搜索","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},t._l(t.userOptions,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("div",{staticClass:"qr-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addGroupUser}},[t._v("添加")])],1)])]),a("div",{staticClass:"user-list-wrapper"},[a("div",{staticClass:"title"},[t._v("已加入成员:")]),a("div",{staticClass:"user-list"},t._l(t.selectUser,(function(e,s){return a("el-tag",{key:s,staticClass:"user-item",attrs:{size:"mini",closable:""},on:{close:function(a){return t.delGroupUser(e._id,s)}}},[a("img",{staticClass:"userHeadImage",attrs:{src:e.avatar||t.userHeadImage,alt:""}}),t._v("\n            "+t._s(e.name)+"\n          ")])})),1)])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"group-list-table group-list-title"},[a("li",{staticClass:"group-list-title-name"},[t._v("团队名称")]),a("li",{staticClass:"group-list-title-date"},[t._v("成员数量")]),a("li",{staticClass:"group-list-title-date"},[t._v("创建时间")]),a("li",{staticClass:"group-list-title-date"},[t._v("更新时间")]),a("li",{staticClass:"group-list-title--op"},[t._v("操作")])])}],r=a("ce3c"),o=(a("b764"),a("2984"),a("77bb")),l=a.n(o),c=(a("e8bd"),a("3f00")),u=a.n(c),d=(a("008a4"),a("020f")),p=a.n(d),m=(a("32de"),a("8d99")),g=a.n(m),b=(a("a68a"),a("230e")),w=a.n(b),h=(a("567e"),a("2b3e")),f=a.n(h),v=(a("cc43"),a("855f")),_=a.n(v),C=(a("93fd"),a("60cf")),D=a.n(C),G=(a("9102"),a("3aa8")),y=a.n(G),k=(a("086f"),a("ce6c")),I=a.n(k),O=(a("cc57"),a("d06c"),a("7763")),U=a.n(O),j=a("66aa"),M={components:(s={noFunData:j["a"]},Object(r["a"])(s,U.a.name,U.a),Object(r["a"])(s,I.a.name,I.a),Object(r["a"])(s,y.a.name,y.a),Object(r["a"])(s,D.a.name,D.a),Object(r["a"])(s,_.a.name,_.a),Object(r["a"])(s,f.a.name,f.a),Object(r["a"])(s,w.a.name,w.a),Object(r["a"])(s,g.a.name,g.a),Object(r["a"])(s,p.a.name,p.a),Object(r["a"])(s,u.a.name,u.a),Object(r["a"])(s,l.a.name,l.a),s),data:function(){return{userHeadImage:a("7724"),loading:!1,searching:!1,noData:!1,newDiolagVisible:!1,userDiolagVisible:!1,groupList:[],userOptions:[],user:[],selectUser:[],newGroupData:{id:"",name:""},currentGroupId:""}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,this.$API.getUserGroupList().then((function(e){t.groupList=e.body||[],t.loading=!1,t.noData=!t.groupList.length})).catch((function(){t.loading=!1}))},showNew:function(t){this.newGroupData.id=t._id,this.newGroupData.name=t.name,this.newDiolagVisible=!0},closeNew:function(){this.newDiolagVisible=!1,this.newGroupData.id="",this.newGroupData.name=""},delGroup:function(t){var e=this;this.$API.delUserGroup({id:t}).then((function(){e.getData(),e.closeNew()}))},newGroup:function(){var t=this;this.$API.createUserGroup(this.newGroupData).then((function(){t.getData(),t.closeNew()}))},showMemberManage:function(t){this.currentGroupId=t._id,this.selectUser=t.members,this.userDiolagVisible=!0},delGroupUser:function(t,e){var a=this;this.$API.delUserFromGroup({groupId:this.currentGroupId,userId:t}).then((function(){a.selectUser.splice(e,1)}))},addGroupUser:function(){var t=this;this.$API.addUserToGroup({groupId:this.currentGroupId,userList:this.user}).then((function(e){t.selectUser=e.body.members,t.user=[],t.userOptions=[]}))},remoteMethod:function(t){var e=this;this.$API.getUserListByKeywords({keywords:t}).then((function(t){e.userOptions=t.body||[]}))}}},V=M,$=(a("cf06"),a("9ca4")),N=Object($["a"])(V,i,n,!1,null,"485e91b0",null);e["default"]=N.exports},"977b":function(t,e,a){},cf06:function(t,e,a){"use strict";var s=a("977b"),i=a.n(s);i.a}}]);